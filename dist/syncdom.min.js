!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.syncdom=n()}(this,function(){"use strict";var c=1,v=["onfocus","onblur","onfocusin","onfocusout","onsubmit","onreset","onchange","oninput","onkeydown","onkeyup","onkeypress","oncompositionstart","oncompositionend","oncompositionupdate","onclick","ondblclick","onmouseenter","onmouseleave","onmouseover","onmouseout","onmousedown","onmouseup","onmousemove","onwheel","ontouchstart","ontouchend","ontouchmove","ontouchcancel","ondrag","ondrop","ondragstart","ondragend","ondragenter","ondragleave","ondragover","onscroll","onresize","onselect","onerror","onload","onunload","onbeforeunload","onabort","onhashchange","oncontextmenu","onpageshow","onpagehide","onvisibilitychange","oninvalid"],o=Array.isArray;function m(i,e){if("TEXTAREA"!==i.nodeName){var n=e.map(function(e){return{node:e,key:l(e)}}),r=function(e,n){for(var o=n.map(function(e){return e.key}).filter(function(e){return e}),t=Object.create(null),i=e.firstChild;i;i=i.nextSibling){var r=l(i);r&&(0<=o.indexOf(r)?t[r]=i:d(e,i))}return t}(i,n),u=i.firstChild;n.forEach(function(e){var n=e.node,o=e.key,t=o?r[o]:null;if(t)delete r[o],a(t,n),t===u?u=u.nextSibling:s(i,t,u);else if(u)if(o)s(i,n,u);else for(;;){if(!u){f(i,n);break}if(!p(r,u)){a(u,n),u=u.nextSibling;break}u=u.nextSibling}else f(i,n)}),function(e,n){for(var o in n)d(e,n[o])}(i,r),function(e,n){for(var o=e.childNodes.length-n.length;0<o;--o)d(e,e.lastChild)}(i,e)}}function a(e,n){if(e.nodeType===n.nodeType)if(e.nodeType===c){if(f=n,s=(l=e).getAttributeNS(null,"domsame"),d=f.getAttributeNS(null,"domsame"),s&&d&&s===d||f.isSameNode(l))return;if(e.nodeName===n.nodeName){(function(e,n){for(var o=e.attributes,t=o.length-1;0<=t;--t){var i=o[t],r=i.namespaceURI,u=i.localName;!n.hasAttributeNS(r,u)&&e.hasAttributeNS(r,u)&&e.removeAttributeNS(r,u)}})(i=e,r=n),function(e,n){for(var o=n.attributes,t=o.length-1;0<=t;--t){var i=o[t],r=i.namespaceURI,u=i.localName,a=n.getAttributeNS(r,u),l=e.getAttributeNS(r,u);a!==l&&e.setAttributeNS(r,u,a)}}(i,r),u=i,a=r,v.forEach(function(e){var n=a[e];n?n!==u[e]&&(u[e]=n):u[e]&&(u[e]=void 0)}),function(e,n){var o=e.nodeName;if("INPUT"===o){h(e,n,"checked");var t=n.value;e.value!==t&&(e.value=t),!n.hasAttributeNS(null,"value")&&e.hasAttributeNS(null,"value")&&e.removeAttributeNS(null,"value")}else if("TEXTAREA"===o){var i=n.value;e.value!==i&&(e.value=i)}else"OPTION"===o&&h(e,n,"selected")}(i,r);for(var o=[],t=n.firstChild;t;t=t.nextSibling)o.push(t);m(e,o)}else b(e,n)}else e.nodeValue!==n.nodeValue&&(e.nodeValue=n.nodeValue);else b(e,n);var i,r,u,a,l,f,s,d}function h(e,n,o){e[o]!==n[o]&&(e[o]=n[o],e[o]?e.hasAttributeNS(null,o)||e.setAttributeNS(null,o,""):e.hasAttributeNS(null,o)&&e.removeAttributeNS(null,o))}function l(e){if(e.nodeType===c)return e.getAttributeNS(null,"domkey")}function b(e,n){e.parentNode.replaceChild(n,e)}function f(e,n){e.appendChild(n)}function s(e,n,o){e.insertBefore(n,o)}function d(e,n){e.removeChild(n)}function p(e,n){for(var o in e)if(e[o]===n)return!0;return!1}return function(e,n){o(n)?m(e,n):null!=n?m(e,[n]):function(e){for(var n=e.lastChild;n;n=e.lastChild)d(e,n)}(e)}});
