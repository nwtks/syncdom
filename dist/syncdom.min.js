!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.syncdom=n()}(this,function(){"use strict";var e=["onfocus","onblur","onfocusin","onfocusout","onsubmit","onreset","onchange","oninput","onkeydown","onkeyup","onkeypress","oncompositionstart","oncompositionend","oncompositionupdate","onclick","ondblclick","onmouseenter","onmouseleave","onmouseover","onmouseout","onmousedown","onmouseup","onmousemove","onwheel","ontouchstart","ontouchend","ontouchmove","ontouchcancel","ondrag","ondrop","ondragstart","ondragend","ondragenter","ondragleave","ondragover","onscroll","onresize","onselect","onerror","onload","onunload","onbeforeunload","onabort","onhashchange","oncontextmenu","onpageshow","onpagehide","onvisibilitychange","oninvalid"],o=Array.isArray,r=Object.getOwnPropertyNames,u=function(r,e){if("TEXTAREA"!==r.nodeName){var n=e.map(function(e){return{node:e,key:b(e)}}),u=t(r,n),i=r.firstChild;n.forEach(function(e){var n=e.node,o=e.key,t=o?u[o]:null;if(t)delete u[o],l(t,n),t===i?i=i.nextSibling:A(r,t,i);else if(i)if(o)A(r,n,i);else for(;;){if(!i){g(r,n);break}if(!y(u,i)){l(i,n),i=i.nextSibling;break}i=i.nextSibling}else g(r,n)}),a(r,u),c(r,e)}},l=function(e,n){if(e.nodeType===n.nodeType)if(1===e.nodeType){if(h(e,n))return;if(e.nodeName===n.nodeName){i(e,n);for(var o=[],t=n.firstChild;t;t=t.nextSibling)o.push(t);u(e,o)}else N(e,n)}else e.nodeValue!==n.nodeValue&&(e.nodeValue=n.nodeValue);else N(e,n)},t=function(e,n){for(var o=n.map(function(e){return e.key}).filter(function(e){return e}),t=Object.create(null),r=e.firstChild;r;r=r.nextSibling){var u=b(r);u&&(0<=o.indexOf(u)?t[u]=r:S(e,r))}return t},a=function(n,o){return r(o).forEach(function(e){return S(n,o[e])})},c=function(e,n){for(var o=e.childNodes.length-n.length;0<o;o-=1)S(e,e.lastChild)},i=function(e,n){f(e,n),s(e,n),d(e,n),m(e,n)},f=function(e,n){for(var o=e.attributes,t=o.length-1;0<=t;t-=1){var r=o[t],u=r.namespaceURI,i=r.localName;!n.hasAttributeNS(u,i)&&e.hasAttributeNS(u,i)&&e.removeAttributeNS(u,i)}},s=function(e,n){for(var o=n.attributes,t=o.length-1;0<=t;t-=1){var r=o[t],u=r.namespaceURI,i=r.localName,l=n.getAttributeNS(u,i);l!==e.getAttributeNS(u,i)&&e.setAttributeNS(u,i,l)}},d=function(o,t){e.forEach(function(e){var n=t[e];n?n!==o[e]&&(o[e]=n):o[e]&&(o[e]=void 0)})},m=function(e,n){var o=e.nodeName;if("INPUT"===o){v(e,n,"checked");var t=n.value;e.value!==t&&(e.value=t),!n.hasAttributeNS(null,"value")&&e.hasAttributeNS(null,"value")&&e.removeAttributeNS(null,"value")}else if("TEXTAREA"===o){var r=n.value;e.value!==r&&(e.value=r)}else"OPTION"===o&&v(e,n,"selected")},v=function(e,n,o){e[o]!==n[o]&&(e[o]=n[o],e[o]?e.hasAttributeNS(null,o)||e.setAttributeNS(null,o,""):e.hasAttributeNS(null,o)&&e.removeAttributeNS(null,o))},h=function(e,n){var o=e.getAttributeNS(null,"domsame"),t=n.getAttributeNS(null,"domsame");return o&&t&&o===t||n.isSameNode(e)},b=function(e){return 1===e.nodeType?e.getAttributeNS(null,"domkey"):null},p=function(e){for(var n=e.lastChild;n;n=e.lastChild)S(e,n)},N=function(e,n){return e.parentNode.replaceChild(n,e)},g=function(e,n){return e.appendChild(n)},A=function(e,n,o){return e.insertBefore(n,o)},S=function(e,n){return e.removeChild(n)},y=function(o,t){return null!=o&&r(o).reduce(function(e,n){return o[n]===t||e},!1)};return function(e,n){o(n)?u(e,n):null!=n?u(e,[n]):p(e)}});
