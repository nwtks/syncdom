!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.syncdom=t()}(this,function(){"use strict";var l=1;function h(e,t){if(e.nodeType===t.nodeType)if(e.nodeType===l){if(i=t,a=(r=e).getAttribute("data-domsame"),n=i.getAttribute("data-domsame"),a&&n&&a===n||i.isSameNode(r))return;if(function(n,e){var t=[],r=[],i=e.firstChild;for(;i;){var a=i;i=i.nextSibling;var l=c(a);r.push({node:a,key:l}),l&&t.push(l)}var o=Object.create(null),d=n.firstChild;for(;d;){var u=d;d=d.nextSibling;var f=c(u);f&&(0<=t.indexOf(f)?o[f]=u:n.removeChild(u))}for(var s in d=n.firstChild,r.forEach(function(e){var t=e.node,r=e.key,i=r?o[r]:null;if(i)delete o[r],i===d?d=d.nextSibling:n.insertBefore(i,d),h(i,t);else if(d)if(r)n.insertBefore(t,d);else for(;;){if(!d){n.appendChild(t);break}var a=d;if(d=d.nextSibling,!m(o,a)){h(a,t);break}}else n.appendChild(t)}),o)n.removeChild(o[s]);var v=n.childNodes.length-r.length;for(;0<=--v;)n.removeChild(n.lastChild)}(e,t),e.nodeName===t.nodeName)!function(e,t){for(var r=e.attributes,i=r.length-1;0<=i;i-=1){var a=r[i],n=a.namespaceURI,l=a.localName;t.hasAttributeNS(n,l)||e.removeAttributeNS(n,l)}for(var o=t.attributes,d=o.length-1;0<=d;d-=1){var u=o[d],f=u.namespaceURI,s=u.localName,v=t.getAttributeNS(f,s),h=e.getAttributeNS(f,s);v!==h&&e.setAttributeNS(f,s,v)}var c=e.nodeName;if("INPUT"===c){b(e,t,"checked");var m=t.value;e.value!==m&&(e.value=m),t.hasAttributeNS(null,"value")||e.removeAttribute("value")}else if("TEXTAREA"===c){var p=t.value;e.value!==p&&(e.value=p)}else"OPTION"===c&&b(e,t,"selected")}(e,t);else{for(;t.lastChild;)t.removeChild(t.lastChild);for(;e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e)}}else e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue);else e.parentNode.replaceChild(t,e);var r,i,a,n}function b(e,t,r){e[r]!==t[r]&&(e[r]=t[r],e[r]?e.setAttribute(r,""):e.removeAttribute(r))}function c(e){if(e.nodeType===l)return e.getAttribute("data-domkey")}function m(e,t){for(var r in e)if(e[r]===t)return!0;return!1}return h});
