!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.syncdom=t()}(this,function(){"use strict";var n=1;function p(e,t){if(e.nodeType===t.nodeType)if(e.nodeType===n){if(r=t,a=(i=e).getAttribute("data-domsame"),l=r.getAttribute("data-domsame"),a&&l&&a===l||r.isSameNode(i))return;if(function(e,t){var i=[],r=t.firstChild,a=0;for(;r;){a+=1;var l=r;r=r.nextSibling;var n=N(l);n&&i.push(n)}var d=Object.create(null),o=e.firstChild;for(;o;){var f=o;o=o.nextSibling;var u=N(f);u&&(0<=i.indexOf(u)?d[u]=f:e.removeChild(f))}o=e.firstChild,r=t.firstChild;for(;r;){var s=r;r=r.nextSibling;var v=N(s),b=v?d[v]:null;if(b)delete d[v],b===o?o=o.nextSibling:e.insertBefore(b,o),p(b,s);else if(o)if(v)e.insertBefore(s,o);else for(;;){if(!o){e.appendChild(s);break}var h=o;if(o=o.nextSibling,!A(d,h)){p(h,s);break}}else e.appendChild(s)}for(var c in d)e.removeChild(d[c]);var m=e.childNodes.length-a;for(;0<=--m;)e.removeChild(e.lastChild)}(e,t),e.nodeName===t.nodeName)!function(e,t){for(var i=e.attributes,r=i.length-1;0<=r;r-=1){var a=i[r],l=a.namespaceURI,n=a.localName;t.hasAttributeNS(l,n)||e.removeAttributeNS(l,n)}for(var d=t.attributes,o=d.length-1;0<=o;o-=1){var f=d[o],u=f.namespaceURI,s=f.localName,v=t.getAttributeNS(u,s),b=e.getAttributeNS(u,s);v!==b&&e.setAttributeNS(u,s,v)}var h=e.nodeName;if("INPUT"===h){C(e,t,"checked"),C(e,t,"disabled"),C(e,t,"readOnly");var c=t.value;e.value!==c&&(e.value=c),t.hasAttributeNS(null,"value")||e.removeAttribute("value")}else if("TEXTAREA"===h){C(e,t,"disabled"),C(e,t,"readOnly");var m=t.value;e.value!==m&&(e.value=m)}else"OPTION"===h?(C(e,t,"selected"),C(e,t,"disabled")):"SELECT"===h&&C(e,t,"disabled")}(e,t);else{for(;t.lastChild;)t.removeChild(t.lastChild);for(;e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e)}}else e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue);else e.parentNode.replaceChild(t,e);var i,r,a,l}function C(e,t,i){e[i]!==t[i]&&(e[i]=t[i],e[i]?e.setAttribute(i.toLowerCase(),""):e.removeAttribute(i.toLowerCase()))}function N(e){if(e.nodeType===n)return e.getAttribute("data-domkey")}function A(e,t){for(var i in e)if(e[i]===t)return!0;return!1}return p});
