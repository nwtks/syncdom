!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.syncdom=t()}(this,function(){"use strict";var d=1;function b(e,t){if(e.nodeType===t.nodeType)if(e.nodeType===d){if(a=t,n=(i=e).getAttribute("data-domsame"),l=a.getAttribute("data-domsame"),n&&l&&n===l||a.isSameNode(i))return;if(function(e,t){var r=Object.create(null),i=e.firstChild;for(;i;){var a=i;i=i.nextSibling;var n=m(a);n&&(r[n]=a)}i=e.firstChild;var l=t.firstChild,d=0;for(;l;){d+=1;var o=l;l=l.nextSibling;var u=m(o),f=u?r[u]:null;if(f)delete r[u],f===i?i=i.nextSibling:e.insertBefore(f,i),b(f,o);else if(i){var s=i;i=i.nextSibling,h(r,s)?e.insertBefore(o,s):b(s,o)}else e.appendChild(o)}for(var v in r)e.removeChild(r[v]);var c=e.childNodes.length-d;for(;0<=--c;)e.removeChild(e.lastChild)}(e,t),e.nodeName===t.nodeName)!function(e,t){for(var r=e.attributes,i=r.length-1;0<=i;i-=1){var a=r[i],n=a.namespaceURI,l=a.localName;t.hasAttributeNS(n,l)||e.removeAttributeNS(n,l)}for(var d=t.attributes,o=d.length-1;0<=o;o-=1){var u=d[o],f=u.namespaceURI,s=u.localName,v=t.getAttributeNS(f,s),c=e.getAttributeNS(f,s);v!==c&&e.setAttributeNS(f,s,v)}var b=e.nodeName;if("INPUT"===b){p(e,t,"checked"),p(e,t,"disabled"),p(e,t,"readOnly");var m=t.value;e.value!==m&&(e.value=m),t.hasAttributeNS(null,"value")||e.removeAttribute("value")}else if("TEXTAREA"===b){p(e,t,"disabled"),p(e,t,"readOnly");var h=t.value;e.value!==h&&(e.value=h)}else"OPTION"===b?(p(e,t,"selected"),p(e,t,"disabled")):"SELECT"===b&&p(e,t,"disabled")}(e,t);else{for(var r=t.cloneNode();e.firstChild;)r.appendChild(e.firstChild);e.parentNode.replaceChild(r,e)}}else e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue);else e.parentNode.replaceChild(t,e);var i,a,n,l}function p(e,t,r){e[r]!==t[r]&&(e[r]=t[r],e[r]?e.setAttribute(r.toLowerCase(),""):e.removeAttribute(r.toLowerCase()))}function m(e){if(e.nodeType===d)return e.getAttribute("data-domkey")}function h(e,t){for(var r in e)if(e[r]===t)return!0;return!1}return b});
